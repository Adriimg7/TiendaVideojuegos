<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="EstiloLogin.css">
    <title>Registro de Usuario</title>
    <script>
        function verificarTelefono() {
            const telefonoInput = document.getElementById("telefono");
            const telefono = telefonoInput.value;
            const telefonoError = document.getElementById("telefono-error");
            const botonRegistro = document.getElementById("botonRegistro");

            const telefonoRegex = /^\d{9}$/;

            if (telefono === "") {
                telefonoError.textContent = "";
                botonRegistro.disabled = false; 
            } else if (!telefonoRegex.test(telefono)) {
                telefonoError.textContent = "El teléfono debe contener exactamente 9 dígitos numéricos.";
                botonRegistro.disabled = true;
            } else {
                telefonoError.textContent = "";
                botonRegistro.disabled = false; 
            }
        }
        
        //Para que el boton funcione al principio
        window.onload = verificarTelefono;
    </script>
</head>
<body>

    <div class="login-container" style="padding-top: 10px;">
        <h2 style="margin-top: 0; margin-bottom: 10px;">Crear Cuenta</h2>
        <p class="mens-bienvenida" style="margin-top: 0; margin-bottom: 10px;">Completa los campos para registrarte</p><br>
        
        <!-- Modificado el formulario para usar POST y enviar los datos a procesar_cliente.php -->
        <form action="procesar_cliente.php" method="POST">
            <div style="display: flex; gap: 20px; margin-bottom: 5px;">
                <div class="form-group" style="flex: 1;">
                    <label for="nombre">Nombre</label>
                    <input type="text" id="nombre" name="nombre" autocomplete="off" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px;">
                </div>
                <div class="form-group" style="flex: 1;">
                    <label for="apellido">Apellido</label>
                    <input type="text" id="apellido" name="apellido" autocomplete="off" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px;">
                </div>
            </div>
            <div class="form-group" style="margin-bottom: 15px;">
                <label for="email">Correo Electrónico</label>
                <input type="email" id="email" name="email" autocomplete="off" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px;">
            </div>
            <div class="form-group" style="margin-bottom: 20px;">
                <label for="password">Contraseña</label>
                <input type="password" id="password" name="password" autocomplete="off" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px;">
            </div>
            <div class="form-group">
                <label for="direccion">Dirección</label>
                <input type="text" id="direccion" name="direccion" autocomplete="off" required style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px;">
            </div>
            <div class="form-group">
                <label for="telefono">Teléfono (opcional)</label>
                <input id="telefono" name="telefono" autocomplete="off" oninput="verificarTelefono()" style="width: 100%; padding: 12px; border: 1px solid #ddd; border-radius: 5px;">
                <small id="telefono-error" style="color: red;"></small>
            </div>
            <button id="botonRegistro" type="submit" class="login-btn" disabled>Registrarse</button>
        </form>
        <a href="Login.html" class="forgot-password">¿Ya tienes una cuenta? Inicia sesión</a>
    </div>

</body>
</html>
